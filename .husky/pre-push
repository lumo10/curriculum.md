#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Check if README.md has been modified
if git diff origin/HEAD...HEAD --name-only | grep -q "README.md"; then
  echo "üìÑ Generating PDF from README.md..."
  npm run build:pdf

  if [ $? -eq 0 ]; then
    echo "‚úÖ PDF generated successfully!"
    git add README.pdf
    git commit --amend --no-edit
    echo "‚úÖ PDF committed!"
  else
    echo "‚ùå Error generating PDF"
    exit 1
  fi
else
  echo "‚ÑπÔ∏è README.md not modified"
fi

